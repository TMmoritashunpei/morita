
NO1
mysql> explain select
    -> group_name as 'グループ',min(ranking) as 'ランキング最上位' ,max(ranking) as 'ランキング最下位'
    -> from countries
    -> group by group_name;
+----+-------------+-----------+------------+------+---------------+------+---------+------+------+----------+---------------------------------+
| id | select_type | table     | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra                           |
+----+-------------+-----------+------------+------+---------------+------+---------+------+------+----------+---------------------------------+
|  1 | SIMPLE      | countries | NULL       | ALL  | NULL          | NULL | NULL    | NULL |   32 |   100.00 | Using temporary; Using filesort |
+----+-------------+-----------+------------+------+---------------+------+---------+------+------+----------+---------------------------------+
1 row in set, 1 warning (0.00 sec)




NO2


mysql> explain select avg(height)as 平均身長, avg(weight)as 平均体重 from players group by position HAVING position = 'GK';
+----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+---------------------------------+
| id | select_type | table   | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra                           |
+----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+---------------------------------+
|  1 | SIMPLE      | players | NULL       | ALL  | NULL          | NULL | NULL    | NULL |  736 |   100.00 | Using temporary; Using filesort |
+----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+---------------------------------+
1 row in set, 1 warning (0.00 sec)

mysql>


NO3



explain SELECT DISTINCT countries.name as 国名,(select avg(height) from players)as 平均身長 FROM countries
    ->  JOIN players ON countries.id = players.country_id;
+----+-------------+-----------+------------+--------+---------------+---------+---------+-----------------------+------+----------+------------------------------+
| id | select_type | table     | partitions | type   | possible_keys | key     | key_len | ref                   | rows | filtered | Extra                        |
+----+-------------+-----------+------------+--------+---------------+---------+---------+-----------------------+------+----------+------------------------------+
|  1 | PRIMARY     | players   | NULL       | ALL    | NULL          | NULL    | NULL    | NULL                  |  736 |   100.00 | Using where; Using temporary |
|  1 | PRIMARY     | countries | NULL       | eq_ref | PRIMARY       | PRIMARY | 4       | wc.players.country_id |    1 |   100.00 | NULL                         |
|  2 | SUBQUERY    | players   | NULL       | ALL    | NULL          | NULL    | NULL    | NULL                  |  736 |   100.00 | NULL                         |
+----+-------------+-----------+------------+--------+---------------+---------+---------+-----------------------+------+----------+------------------------------+
3 rows in set, 1 warning (0.00 sec)


NO4




NO5

explain select kickoff,my_country as 国名１,enemy_country as 国名２  from pairings_tmp order by  kickoff asc;
+----+-------------+--------------+------------+------+---------------+------+---------+------+------+----------+----------------+
| id | select_type | table        | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra          |
+----+-------------+--------------+------------+------+---------------+------+---------+------+------+----------+----------------+
|  1 | SIMPLE      | pairings_tmp | NULL       | ALL  | NULL          | NULL | NULL    | NULL |  144 |   100.00 | Using filesort |
+----+-------------+--------------+------------+------+---------------+------+---------+------+------+----------+----------------+
1 row in set, 1 warning (0.00 sec)

NO6

mysql> explain select name as 名前, position as ポジション,club as 所属クラブ,(select count(goals.id)from goals) as ゴール数  from players;
+----+-------------+---------+------------+-------+---------------+---------+---------+------+------+----------+-------------+
| id | select_type | table   | partitions | type  | possible_keys | key     | key_len | ref  | rows | filtered | Extra       |
+----+-------------+---------+------------+-------+---------------+---------+---------+------+------+----------+-------------+
|  1 | PRIMARY     | players | NULL       | ALL   | NULL          | NULL    | NULL    | NULL |  736 |   100.00 | NULL        |
|  2 | SUBQUERY    | goals   | NULL       | index | NULL          | PRIMARY | 4       | NULL |  188 |   100.00 | Using index |
+----+-------------+---------+------------+-------+---------------+---------+---------+------+------+----------+-------------+
2 rows in set, 1 warning (0.00 sec)

NO7

mysql> explain select players.name as 名前,players.position as ポジション,players.club as 所属クラブ,count(goals.id) as ゴール数  from players
    ->  join goals on players.id = goals. player_id group by players.name,players.club,players.position ;
+----+-------------+---------+------------+--------+---------------+---------+---------+--------------------+------+----------+----------------------------------------------+
| id | select_type | table   | partitions | type   | possible_keys | key     | key_len | ref                | rows | filtered | Extra                                        |
+----+-------------+---------+------------+--------+---------------+---------+---------+--------------------+------+----------+----------------------------------------------+
|  1 | SIMPLE      | goals   | NULL       | ALL    | NULL          | NULL    | NULL    | NULL               |  188 |   100.00 | Using where; Using temporary; Using filesort |
|  1 | SIMPLE      | players | NULL       | eq_ref | PRIMARY       | PRIMARY | 4       | wc.goals.player_id |    1 |   100.00 | NULL                                         |
+----+-------------+---------+------------+--------+---------------+---------+---------+--------------------+------+----------+----------------------------------------------+
2 rows in set, 1 warning (0.00 sec)

NO8

mysql> explain select players.position as ポジション,count(goals.id) as ゴール数 from goals right join
    ->     players on goals.player_id = players.id
    ->     group by players.position;
+----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+----------------------------------------------------+
| id | select_type | table   | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra                                              |
+----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+----------------------------------------------------+
|  1 | SIMPLE      | players | NULL       | ALL  | NULL          | NULL | NULL    | NULL |  736 |   100.00 | Using temporary; Using filesort                    |
|  1 | SIMPLE      | goals   | NULL       | ALL  | NULL          | NULL | NULL    | NULL |  188 |   100.00 | Using where; Using join buffer (Block Nested Loop) |
+----+-------------+---------+------------+------+---------------+------+---------+------+------+----------+----------------------------------------------------+
2 rows in set, 1 warning (0.00 sec)

